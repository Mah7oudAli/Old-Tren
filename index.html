<!-- Coding by mahmoud Ali Abu Shanab  -->
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Old-Tren | قائمة الطعام</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Meta Description للSEO -->
    <meta name="description" content="Old-Tren مطعم وكافيتريا مميز في درعا المحطة، شارع الشهداء مقابل الحجاز مول. نقدم أشهى المأكولات والمشروبات بجودة عالية في أجواء تقليدية عصرية. تفضلوا بزيارتنا لتجربة طعم لا يقاوم!">
    <meta name="keywords" content="Old-Tren, مطعم, كافيتريا, درعا المحطة, شارع الشهداء, الحجاز مول, قائمة الطعام, منيو, وجبات, مشروبات, عصائر, بوظة, مشويات">
    <meta name="author" content="Old-Tren">
    <!-- Open Graph للشبكات الاجتماعية -->
    <meta property="og:title" content="Old-Tren | مطعم وكافيتريا">
    <meta property="og:description" content="مطعم وكافيتريا في درعا المحطة، شارع الشهداء مقابل الحجاز مول. نقدم أشهى المأكولات والمشروبات">
    <meta property="og:type" content="website">
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <!-- شاشة البدء -->
    <div id="splash-screen">
        <div class="logo-container">
            <div class="logo-icon">
                <i class="fas fa-utensils"></i>
            </div>
            <div class="logo-text">Old-Tren</div>
            <div class="logo-subtitle">مطعم وكافيتريا</div>
        </div>
        <div class="loading-bar">
            <div class="loading-progress"></div>
        </div>
    </div>

    <!-- نافذة تكبير الصورة -->
    <div class="image-modal" id="imageModal">
        <div class="modal-content">
            <span class="close-modal" id="closeModal">&times;</span>
            <img class="modal-img" id="modalImg" src="" alt="صورة القائمة">
            <div class="menu-text-overlay" id="modalText">
                <!-- سيتم إضافة النص هنا ديناميكياً -->
            </div>
            <div class="modal-nav modal-prev" id="prevModal">
                <i class="fas fa-chevron-right"></i>
            </div>
            <div class="modal-nav modal-next" id="nextModal">
                <i class="fas fa-chevron-left"></i>
            </div>
        </div>
    </div>

    <!-- الهيدر -->
    <header>
        <div class="header-container">
            <div class="header-logo">
                <i class="fas fa-utensils"></i>
                <h1>Old-Tren | المنيو</h1>
            </div>
        </div>
    </header>
<!-- Coding by mahmoud Ali Abu Shanab  -->

    <!-- شريط القوائم -->
    <div class="categories-bar" id="categoriesBar">
        <!-- سيتم إضافة الأزرار ديناميكياً -->
    </div>

    <!-- تلميح السحب -->
    <div class="swipe-hint">
        <i class="fas fa-arrow-left"></i>
    </div>

    <!-- حاوية الصور -->
    <div class="menu-container">
        <div class="menu-scroll" id="menuScroll">
            <!-- سيتم إضافة الصور ديناميكياً -->
        </div>
    </div>

    <!-- الفوتر -->
    <footer id="footer">
        <div class="copyright">
            <p>جميع الحقوق محفوظة &copy; 2025 Old-Tren مطعم وكافيتريا</p>
        </div>
    </footer>
<!-- Coding by mahmoud Ali Abu Shanab  -->

    <script>
// بيانات القوائم بدون subtitle و content بالترتيب المطلوب
const menuCategories = [
    {
        id: "meals",
        name: "وجبات",
        image: "images/food-groub.jpg"
    },
    {
        id: "grills",
        name: "مشويات",
        image: "images/grills.jpg"
    },
    {
        id: "sandwiches",
        name: "سندويشات",
        image: "images/sandwiches.jpg"
    },
    {
        id: "appetizers",
        name: "مقبلات",
        image: "images/appetizers.jpg"
    },
    {
        id: "salad",
        name: "سلطات",
        image: "images/salat.jpg"
    },
    {
        id: "icecream",
        name: "بوظة",
        image: "images/ice.jpg"
    },
    {
        id: "milkshake",
        name: "ميلك شيك",
        image: "images/kingshak.jpg"
    },
    {
        id: "cocktails",
        name: "كوكتيلات",
        image: "images/cocktails.jpg"
    },
    {
        id: "juices",
        name: "عصائر",
        image: "images/drank.jpg"
    },
    {
        id: "hotdrinks",
        name: "مشروبات ساخنة",
        image: "images/hotdrinks.jpg"
    }
];

document.addEventListener('DOMContentLoaded', function() {
    const splashScreen = document.getElementById('splash-screen');
    const menuScroll = document.getElementById('menuScroll');
    const categoriesBar = document.getElementById('categoriesBar');
    const swipeHint = document.querySelector('.swipe-hint');
    const imageModal = document.getElementById('imageModal');
    const modalImg = document.getElementById('modalImg');
    const modalText = document.getElementById('modalText');
    const closeModal = document.getElementById('closeModal');
    const prevModal = document.getElementById('prevModal');
    const nextModal = document.getElementById('nextModal');
    
    let currentImageIndex = 0;
    let currentActiveIndex = 0;
    let isScrolling = false;
    
    // إخفاء شاشة البدء
    setTimeout(() => {
        splashScreen.classList.add('fade-out');
        
        setTimeout(() => {
            splashScreen.style.display = 'none';
            // عرض أول صورة بعد إخفاء شاشة البدء
            navigateToImage(0);
        }, 500);
    }, 3000);
    
    // تحميل الصور
    loadMenuCategories();
    
    // إضافة أزرار القوائم
    loadCategoryButtons();
    
    // إضافة أسهم التنقل
    addNavigationArrows();
    
    // إضافة مؤشر الصور
    addImageIndicator();
    
    // أحداث السحب
    let touchStartY = 0;
    let touchEndY = 0;
    let touchStartX = 0;
    let touchEndX = 0;
    
    menuScroll.addEventListener('touchstart', function(e) {
        touchStartY = e.touches[0].clientY;
        touchStartX = e.touches[0].clientX;
    }, { passive: true });
    
    menuScroll.addEventListener('touchmove', function(e) {
        touchEndY = e.touches[0].clientY;
        touchEndX = e.touches[0].clientX;
    }, { passive: true });
    
    menuScroll.addEventListener('touchend', function(e) {
        const deltaY = touchStartY - touchEndY;
        const deltaX = touchStartX - touchEndX;
        
        // إذا كان السحب عمودي أكثر من أفقي
        if (Math.abs(deltaY) > Math.abs(deltaX)) {
            if (deltaY > 50) {
                // سحب لأعلى - التالي
                navigateImage('next');
            } else if (deltaY < -50) {
                // سحب لأسفل - السابق
                navigateImage('prev');
            }
        }
    });
    
    // إخفاء تلميح السحب بعد 5 ثوان
    setTimeout(() => {
        swipeHint.style.opacity = '0';
        setTimeout(() => {
            swipeHint.style.display = 'none';
        }, 500);
    }, 5000);
    
    // إغلاق نافذة الصورة
    closeModal.addEventListener('click', function() {
        imageModal.classList.remove('active');
        document.body.style.overflow = 'auto';
    });
    
    // التنقل بين الصور في نافذة التكبير
    prevModal.addEventListener('click', function() {
        navigateModal('prev');
    });
    
    nextModal.addEventListener('click', function() {
        navigateModal('next');
    });
    
    // إغلاق النافذة بالضغط على الخلفية
    imageModal.addEventListener('click', function(e) {
        if (e.target === imageModal) {
            imageModal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }
    });
    
    // إغلاق النافذة بمفتاح Escape
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && imageModal.classList.contains('active')) {
            imageModal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }
        
        // التنقل بين الصور بالسهمين
        if (imageModal.classList.contains('active')) {
            if (e.key === 'ArrowRight') {
                navigateModal('prev');
            } else if (e.key === 'ArrowLeft') {
                navigateModal('next');
            }
        }
        
        // التنقل بين الصور الرئيسية بالسهمين
        if (!imageModal.classList.contains('active')) {
            if (e.key === 'ArrowDown' || e.key === 'PageDown') {
                navigateImage('next');
            } else if (e.key === 'ArrowUp' || e.key === 'PageUp') {
                navigateImage('prev');
            }
        }
    });
    
    // تحسين تجربة التمرير مع scroll-snap
    menuScroll.addEventListener('scroll', function() {
        if (!isScrolling) {
            isScrolling = true;
            setTimeout(() => {
                updateActiveImageFromScroll();
                isScrolling = false;
            }, 100);
        }
    });
    
    // تحميل الصور
    function loadMenuCategories() {
        menuScroll.innerHTML = '';
        
        menuCategories.forEach((category, index) => {
            const imgContainer = document.createElement('div');
            imgContainer.className = 'menu-img-container';
            imgContainer.id = category.id;
            imgContainer.setAttribute('data-index', index);
            
            // إنشاء عنصر الصورة
            const img = document.createElement('img');
            img.src = category.image;
            img.alt = category.name;
            img.className = 'menu-img';
            
            // تحميل الصورة أولاً للحصول على أبعادها
            img.onload = function() {
                adjustImageContainer(imgContainer, img);
            };
            
            imgContainer.appendChild(img);
            
            // حدث النقر على الصورة لفتحها بتكبير
            imgContainer.addEventListener('click', function(e) {
                // منع فتح النافذة إذا كان النقر على الأسهم
                if (!e.target.closest('.nav-arrow')) {
                    const index = parseInt(this.getAttribute('data-index'));
                    openImageModal(index);
                }
            });
            
            menuScroll.appendChild(imgContainer);
        });
    }
    
    // ضبط حاوية الصورة بناءً على أبعاد الصورة
    function adjustImageContainer(container, img) {
        const imgRatio = img.naturalHeight / img.naturalWidth;
        const containerRatio = window.innerHeight / window.innerWidth;
        
        if (imgRatio > containerRatio) {
            // الصورة أطول من الحاوية
            img.style.objectFit = 'contain';
            img.style.width = 'auto';
            img.style.height = '100%';
            img.style.maxWidth = '100%';
        } else {
            // الصورة أوسع من الحاوية
            img.style.objectFit = 'contain';
            img.style.width = '100%';
            img.style.height = 'auto';
            img.style.maxHeight = '100%';
        }
    }
    
    // إضافة أسهم التنقل
    function addNavigationArrows() {
        const arrowsContainer = document.createElement('div');
        arrowsContainer.className = 'navigation-arrows';
        
        arrowsContainer.innerHTML = `
            <button class="nav-arrow prev">
                <i class="fas fa-chevron-up"></i>
            </button>
            <button class="nav-arrow next">
                <i class="fas fa-chevron-down"></i>
            </button>
        `;
        
        document.body.appendChild(arrowsContainer);
        
        // أحداث الأسهم
        document.querySelector('.nav-arrow.prev').addEventListener('click', function() {
            navigateImage('prev');
        });
        
        document.querySelector('.nav-arrow.next').addEventListener('click', function() {
            navigateImage('next');
        });
    }
    
    // إضافة مؤشر الصور
    function addImageIndicator() {
        const indicator = document.createElement('div');
        indicator.className = 'image-indicator';
        indicator.id = 'imageIndicator';
        
        menuCategories.forEach((_, index) => {
            const dot = document.createElement('div');
            dot.className = 'indicator-dot';
            if (index === 0) dot.classList.add('active');
            dot.setAttribute('data-index', index);
            
            dot.addEventListener('click', function() {
                const index = parseInt(this.getAttribute('data-index'));
                navigateToImage(index);
            });
            
            indicator.appendChild(dot);
        });
        
        document.body.appendChild(indicator);
    }
    
    // التنقل بين الصور
    function navigateImage(direction) {
        if (direction === 'prev') {
            currentActiveIndex = currentActiveIndex > 0 ? currentActiveIndex - 1 : menuCategories.length - 1;
        } else {
            currentActiveIndex = currentActiveIndex < menuCategories.length - 1 ? currentActiveIndex + 1 : 0;
        }
        
        navigateToImage(currentActiveIndex);
    }
    
    // التنقل إلى صورة معينة
    function navigateToImage(index) {
        if (index >= 0 && index < menuCategories.length) {
            currentActiveIndex = index;
            
            const targetElement = document.querySelector(`[data-index="${index}"]`);
            if (targetElement) {
                targetElement.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start' 
                });
                
                // تحديث زر القائمة النشط
                updateCategoryButtons(menuCategories[index].id);
                
                // تحديث مؤشر الصور
                updateImageIndicator();
            }
        }
    }
    
    // تحديث الصورة النشطة بناءً على التمرير
    function updateActiveImageFromScroll() {
        const containers = document.querySelectorAll('.menu-img-container');
        let closestIndex = 0;
        let closestDistance = Infinity;
        
        containers.forEach((container, index) => {
            const rect = container.getBoundingClientRect();
            const distance = Math.abs(rect.top);
            
            if (distance < closestDistance) {
                closestDistance = distance;
                closestIndex = index;
            }
        });
        
        if (closestIndex !== currentActiveIndex) {
            currentActiveIndex = closestIndex;
            updateCategoryButtons(menuCategories[closestIndex].id);
            updateImageIndicator();
        }
    }
    
    // تحديث مؤشر الصور
    function updateImageIndicator() {
        document.querySelectorAll('.indicator-dot').forEach((dot, index) => {
            dot.classList.remove('active');
            if (index === currentActiveIndex) {
                dot.classList.add('active');
            }
        });
    }
    
    // تحميل أزرار القوائم
    function loadCategoryButtons() {
        categoriesBar.innerHTML = '';
        
        menuCategories.forEach(category => {
            const button = document.createElement('button');
            button.className = 'category-btn';
            button.setAttribute('data-category', category.id);
            button.textContent = category.name;
            
            button.addEventListener('click', function() {
                // إزالة النشط من جميع الأزرار
                document.querySelectorAll('.category-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                // إضافة النشط للزر المحدد
                this.classList.add('active');
                
                // الحصول على معرف القائمة
                const categoryId = this.getAttribute('data-category');
                
                // البحث عن العنصر بالـ ID المطابق
                const targetElement = document.getElementById(categoryId);
                
                if (targetElement) {
                    const index = parseInt(targetElement.getAttribute('data-index'));
                    navigateToImage(index);
                }
            });
            
            categoriesBar.appendChild(button);
        });
        
        // تفعيل الزر الأول
        if (categoriesBar.firstChild) {
            categoriesBar.firstChild.classList.add('active');
        }
    }
    
    // فتح نافذة الصورة
    function openImageModal(index) {
        currentImageIndex = index;
        const category = menuCategories[index];
        
        // عرض الصورة
        modalImg.src = category.image;
        modalImg.alt = category.name;
        
        // عرض اسم القائمة فقط
        let contentHTML = `<strong>${category.name}</strong>`;
        modalText.innerHTML = contentHTML;
        
        // عرض النافذة
        imageModal.classList.add('active');
        document.body.style.overflow = 'hidden';
        
        // تحديث زر القائمة النشط
        updateCategoryButtons(category.id);
    }
    
    // التنقل بين الصور في نافذة التكبير
    function navigateModal(direction) {
        if (direction === 'prev') {
            currentImageIndex = currentImageIndex > 0 ? currentImageIndex - 1 : menuCategories.length - 1;
        } else {
            currentImageIndex = currentImageIndex < menuCategories.length - 1 ? currentImageIndex + 1 : 0;
        }
        
        const category = menuCategories[currentImageIndex];
        
        // تحديث الصورة والمحتوى
        modalImg.src = category.image;
        modalImg.alt = category.name;
        
        // عرض اسم القائمة فقط
        let contentHTML = `<strong>${category.name}</strong>`;
        modalText.innerHTML = contentHTML;
        
        // تحديث شريط القوائم
        updateCategoryButtons(category.id);
    }
    
    // تحديث أزرار القوائم
    function updateCategoryButtons(categoryId) {
        document.querySelectorAll('.category-btn').forEach(btn => {
            btn.classList.remove('active');
            if (btn.getAttribute('data-category') === categoryId) {
                btn.classList.add('active');
            }
        });
    }
    
    // إعادة ضبط الصور عند تغيير حجم النافذة
    window.addEventListener('resize', function() {
        document.querySelectorAll('.menu-img-container').forEach(container => {
            const img = container.querySelector('img');
            if (img && img.complete) {
                adjustImageContainer(container, img);
            }
        });
    });
});
    </script>
</body>
</html>

